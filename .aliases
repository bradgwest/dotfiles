# Delete branches starting with 'pr_'
alias grmpr="git branch | grep "PR-" | xargs git branch -D"
# Delete branches that have been merged
alias grmm="git branch --merged master | grep -v "master" | xargs git branch -d"
# Delete non-master branches
alias grm-non-master="git branch | grep -v "master" | xargs git branch -D"

# ssh management
alias ssh-clear="ssh-add -D"

# dotfiles
alias dot='/usr/bin/git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME'

# C4 generation
alias c4="docker run -v $(pwd):/assets plantuml"

# usage: explicit-newlines file
alias explicit-newlines="awk '{printf "%s\\n", $0}'"

alias brew-export="brew list --formula -1 > .brew/formula.txt && brew list --cask -1 > .brew/casks.txt"

# redshift
alias redshift-stg="PGPASSWORD=\"${REDSHIFT_STG_RUN_PW}\" psql -h \"analytics-staging.cgao5gb7j8l6.us-east-1.redshift.amazonaws.com\" -U \"${REDSHIFT_STG_RUN_USER}\" -d staging_analytics -p 5439"
alias redshift-prod="PGPASSWORD=\"${REDSHIFT_PROD_READ_ONLY_PW}\" psql -h \"analytics-database1.production.petalcard.com\" -U \"${REDSHIFT_PROD_READ_ONLY_USER}\" -d analytics -p 5439"

# postgres
alias pg-prod="PGPASSWORD=\"${PG_PROD_PW}\" psql -h \"${PG_PROD_HOST}\" -U \"${PG_PROD_USER}\" -d \"${PG_PROD_DB}\" -p \"${PG_PROD_PORT}\""
alias pg-ddl-table="PGPASSWORD=\"${PG_PROD_PW}\" pg_dump -h \"${PG_PROD_HOST}\" -U \"${PG_PROD_USER}\" -d \"${PG_PROD_DB}\" -p \"${PG_PROD_PORT}\" --schema-only -t"

